# 用户可见的一致性

用户可见的一致性包括以下三类：

* 颜色、字体
* 布局组件
* 以表单为代表的预制件

颜色、字体应该是全局设置，而不是在每个地方用 css 指定颜色的 RGB 值。就算要覆盖全局的设置，也应该是用 prominent 之类的变量名字来引用颜色，而不是用 RGB 值。

css 有无数种实现布局效果的做法。不应该让每个页面都用 css 盒模型这样的高灵活度的方式来做布局。而是把 UI 稿中的布局模式进行归纳，做好一系列的布局组件。每个页面都应该用归纳出来的布局组件来做布局，而不是直接使用 css 的 flexbox 这些。

更进一步的，我们会发现很多视觉效果，交互模式，乃至局部的产品功能都是重复的。有追求的开发者会有抑制不住的热情去归纳“预制件”（与之相对的是现浇混凝土），预期能通过对业务的归纳达到减少代码量的目的。但是如果仅仅由开发团队发起，这是一个很危险的道路。如果要抽取出“一键生成表单”这样的预制件，一定要是和产品与设计团队达成前提下来做。

# 指标计算与自动检查

比如，规定了不能写颜色的 RGB 值。那可以自动化去检查代码中是否有 RGB 值。
如果团队达成了一致，禁用 css 写布局，必须用布局组件。那么自动检查中可以看提交的代码里是不是有 css，如果有 css 则直接禁止提交。

可复用的组件如果仅仅是做了放在那里，很容易就找不到，而不复用你。如果是出于一致性目的做的组件，应该强制推广。不是使用者主动选择使用哪些组件，而是在应该用组件的地方没有用，需要提示乃至禁止提交。比如表单组件如果有一层封装，那么系统原生的表单组件就应该被禁用。最好是能有量化的办法来统计出接入率，阻断率。
