我们担心这样的症状：

* 难以改全：改一下RPC重试策略，需要把所有调用RPC的地方都改一遍
* 用户体验不一致：一个APP有4种不同的 date picker 组件，做的都是选日期这个事情
* 不知道该抄谁：要做一个新界面了，发现类似的界面布局有用 css flexbox 的，有用 grid 的，也有自己拿 margin 算的
* 找不到：可复用的组件也不是我写的，我怎么能知道需要复用你呢？
* 表面形式：咋一看全是复用组件，定睛一看每个组件都要传好多个参数

Consistency 的愿景是尽量减轻上述的症状，尽量让一件事情只有一种实现。那 Consistency 就是说要做好 Reuse 吗？

# 复用不复用那是产品经理的工作

Consistency 和 Reuse 的出发点是不同的。
我对这两个词的感觉是，Reuse 是从所有代码中找重复，然后努力抽取出可复用的东西。
Consistent 则是我先定义了一个标准，比如说UI规范，然后强制要应用到所有的页面上。如果没有应用上，那就得说明理由，引入的不一致是有意为之，还是偶然的设计失误。
Consistent 隐含了先有共识（Consensus）的含义，就是产品和开发团队达成了什么是必须一致必须复用的共识。
而 Reuse 总有开发团队一厢情愿的意味在里面，依赖了每个人做新需求的时候去主动地消除重复。

以“省事”为理由，强行“复用”一套实现是长久不了的，这个出发点很容易被挑战。
只要不影响到用户可见的一致性，不影响到 Autonomy，不影响到 Feedback，实现写两遍又如何？
不要指望通过 reuse 一堆[相乘关系的 git 仓库](./Composition.md)来减少代码量，这不值得。产品经理设计出来的需求如果是没有规律性的，别强行复用。能用相加的关系组合好一堆 git 仓库就不错了。没有啥好 trade off 的，就是 autonomy 为先。打工人都希望做一些有leverage的事情，都希望多做一些可复用，可被渊源流传的事情，然而人要接受现实。我们业务开发和装修工人没啥区别，按面积收费的，涂一面墙，也就是影响了这一面墙。

# 如果不是为了复用，那为什么还要 Consistency？

以下三个出发点

* 对用户可见的一致性：显然色系，交互模式这些东西要保持一致。
* 为了优化 Autonomy：依赖倒置是建立在一套共识的规范上的，可能会要求使用同样的编程语言，同样的工具链。
* 为了优化 Feedback：响应故障的时候还要去看这个模块自研的监控系统，那就太耽误时间了。

Consistency 就是业务的底座，业务的榫卯。无论是 Consistency 还是 Feedback，都是为了实现 Autonomy。

# 一致性的推动力

通过把所有前端开发放入同一个部门，用组织架构来强化一致性也是长久不了的。
组织容易因为地域、时区而分开，因为人员扩张而容纳不下，因为各种人为因素而左右。
靠把所有人装入一个组织下来保障一致性的目标是不现实的。

靠一两个人跨越部门来做准入，也是不靠谱的。且不说这一两个人说话是不是算话，这两个人也很容易变成瓶颈。

推动一致性靠以下三方面的力量

* 用户可见的一致性：靠 UI/UE 和产品设计者。他们对于视觉上不一致，交互方式上的不一致都会有相对比较高的标准。然后靠前端组件团队来落地。
* 优化 Autonomy：靠上层业务的 stakeholder 提供影响力。他们是最有动力各搞各的。
* 优化 Feedback：靠QA、研发效能、基础架构和SRE部门。这些部门直接负责了监控和变更的工作，Feedback 的指标本来就是部门的 KPI。

日常的一致性检查应该尽可能使用自动化检测手段。就像 git 提交的时候检查 lint 规则一样。

# 场景和指标

那么根据过往经验，常见的需要强制 Consistency 的[场景](./Scenario/README.md)有哪些呢？

我们如何能度量在 Consistency 这个维度，现在的问题有多严重。或者换句话说，当我们做出了一些改进，如何[度量](./ConsistencyMetrics.md)有改善呢?